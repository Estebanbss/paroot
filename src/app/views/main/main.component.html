<app-header></app-header>

<div class="w-full   h-full z-0 bg-noise absolute"></div>
<div class="w-full   min-h-[calc(100vh_-_64px)] p-4">
  <div class="max-w-[1280px] w-full mx-auto relative">
    <div id="alertBox" class=" text-white w-[240px] absolute  left-[50%] font-semibold -translate-x-[50%] rounded-lg px-4 py-2 h-[48px] hidden flex-row gap-2 justify-center items-center pointer-events-none">
      <svg class="fill-white pointer-events-none" *ngIf="alert() === 'Invalid URL'" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path d="m40-120 440-760 440 760H40Zm138-80h604L480-720 178-200Zm302-40q17 0 28.5-11.5T520-280q0-17-11.5-28.5T480-320q-17 0-28.5 11.5T440-280q0 17 11.5 28.5T480-240Zm-40-120h80v-200h-80v200Zm40-100Z"/></svg>

      <svg class="fill-white pointer-events-none" *ngIf="alert() === 'Link copied!'"  xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path d="M382-240 154-468l57-57 171 171 367-367 57 57-424 424Z"/></svg>

      {{alert()}}
    </div>
    <h2 class="py-2 mx-auto flex justify-center text-center text-lg font-black text-green-800 font-mono">Shorten links, make QR codes, easy as a click!</h2>

    <div class="w-full mt-2  top-[3px] z-50 flex justify-center relative ">
      <button (click)="chooseButton.set(page)" *ngFor="let page of buttons" [ngClass]="[chooseButton() === page ? 'p-2 px-5 rounded-t-lg bg-white border-b-0 border-[3px] flex flex-row gap-1' : 'p-2 px-5 border-b-0 border-[3px] border-transparent rounded-t-lg flex flex-row gap-1' ]">
        <svg *ngIf="page === 'Short Link'" xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none"><path d="M6.4 10.6C5.8 9.9 5.5 9.1 5.5 8.3C5.5 7.4 5.8 6.6 6.5 6C7.7 4.8 9.9 4.8 11.1 6L13.3 8.2C13.7 8.6 14.3 8.6 14.7 8.2C15.1 7.8 15.1 7.2 14.7 6.8L12.5 4.5C11.5 3.6 10.1 3 8.7 3C7.3 3 6 3.6 5 4.5C4 5.5 3.5 6.9 3.5 8.3C3.5 9.7 4 11 5 12L7.2 14.2C7.4 14.4 7.7 14.5 7.9 14.5C8.1 14.5 8.4 14.4 8.6 14.2C9 13.8 9 13.2 8.6 12.8L6.4 10.6Z" fill="#36383B"></path><path d="M20 12L17.8 9.8C17.4 9.4 16.8 9.4 16.4 9.8C16 10.2 16 10.8 16.4 11.2L18.6 13.5C19.2 14.1 19.6 14.9 19.6 15.8C19.6 16.7 19.3 17.5 18.6 18.1C17.3 19.4 15.3 19.4 14 18.1L11.8 15.9C11.4 15.5 10.8 15.5 10.4 15.9C10 16.3 10 16.9 10.4 17.3L12.6 19.5C13.6 20.5 15 21 16.3 21C17.6 21 19 20.5 20 19.5C21 18.5 21.5 17.2 21.5 15.8C21.5 14.3 21 13 20 12Z" fill="#36383B"></path><path d="M15.2 14.7C15 14.9 14.8 15 14.5 15C14.2 15 14 14.9 13.8 14.7L9.8 10.7C9.4 10.3 9.4 9.7 9.8 9.3C10.2 8.9 10.8 8.9 11.2 9.3L15.2 13.3C15.6 13.7 15.6 14.3 15.2 14.7Z" fill="#36383B"></path></svg>
        <svg *ngIf="page === 'Qr Code'" xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M5.5 11H9.5C10.6 11 11.5 10.1 11.5 9V5C11.5 3.9 10.6 3 9.5 3H5.5C4.4 3 3.5 3.9 3.5 5V9C3.5 10.1 4.4 11 5.5 11ZM5.5 5H9.5V9H5.5V5ZM5.5 21H9.5C10.6 21 11.5 20.1 11.5 19V15C11.5 13.9 10.6 13 9.5 13H5.5C4.4 13 3.5 13.9 3.5 15V19C3.5 20.1 4.4 21 5.5 21ZM5.5 15H9.5V19H5.5V15ZM13.5 9V5C13.5 3.9 14.4 3 15.5 3H19.5C20.6 3 21.5 3.9 21.5 5V9C21.5 10.1 20.6 11 19.5 11H15.5C14.4 11 13.5 10.1 13.5 9ZM15.5 9H19.5V5H15.5V9ZM21.5 20.5V19.5C21.5 19.22 21.28 19 21 19H20C19.72 19 19.5 19.22 19.5 19.5V20.5C19.5 20.78 19.72 21 20 21H21C21.28 21 21.5 20.78 21.5 20.5ZM13.5 14.5V13.5C13.5 13.22 13.72 13 14 13H15C15.28 13 15.5 13.22 15.5 13.5V14.5C15.5 14.78 15.28 15 15 15H14C13.72 15 13.5 14.78 13.5 14.5ZM17 15H16C15.72 15 15.5 15.22 15.5 15.5V16.5C15.5 16.78 15.72 17 16 17H17C17.28 17 17.5 16.78 17.5 16.5V15.5C17.5 15.22 17.28 15 17 15ZM13.5 18.5V17.5C13.5 17.22 13.72 17 14 17H15C15.28 17 15.5 17.22 15.5 17.5V18.5C15.5 18.78 15.28 19 15 19H14C13.72 19 13.5 18.78 13.5 18.5ZM16 21H17C17.28 21 17.5 20.78 17.5 20.5V19.5C17.5 19.22 17.28 19 17 19H16C15.72 19 15.5 19.22 15.5 19.5V20.5C15.5 20.78 15.72 21 16 21ZM19 19H18C17.72 19 17.5 18.78 17.5 18.5V17.5C17.5 17.22 17.72 17 18 17H19C19.28 17 19.5 17.22 19.5 17.5V18.5C19.5 18.78 19.28 19 19 19ZM19 13H18C17.72 13 17.5 13.22 17.5 13.5V14.5C17.5 14.78 17.72 15 18 15H19C19.28 15 19.5 14.78 19.5 14.5V13.5C19.5 13.22 19.28 13 19 13ZM21 17H20C19.72 17 19.5 16.78 19.5 16.5V15.5C19.5 15.22 19.72 15 20 15H21C21.28 15 21.5 15.22 21.5 15.5V16.5C21.5 16.78 21.28 17 21 17Z" fill="#36383B"></path></svg>
        {{page}}
      </button>
      </div>
    <div class=" md:max-w-[700px] z-40 relative  w-full mx-auto  bg-white shadow-lg rounded-xl border-[3px] p-3 px-5">

      <div *ngIf="chooseButton() === 'Short Link'">
        <h3 class="font-bold text-2xl font-sans mb-3">Shorten a long link</h3>
        <p class="font-medium text-lg font-sans ">Paste a long URL</p>
        <form class="w-full" (ngSubmit)="getURL()" [formGroup]="urlLong!">

        <div class="w-full flex flex-col md:flex-row gap-2 items-center justify-center">
          <input id="urlInput" placeholder="Example: http://super-hiper-mega-long-link.com/shorten-it" autofocus autocapitalize="false" spellcheck="false" class="w-full focus:bg-white outline-1 focus:outline-green-600 h-10 border-2 p-2 my-2 rounded-md placeholder:px-2"  formControlName="url" required>
          <button class="px-4 h-[38px] min-w-[130px] rounded-md bg-green-800 text-white font-bold">Shorten URL</button>
        </div>
        </form>
        <div *ngIf="urls.length !== 0" class="my-2 w-full flex flex-col gap-2 ">
          <div *ngFor="let url of urls" class="min-h-10 bg-white rounded-md w-full border-2 p-2 flex flex-col md:flex-row items-center overflow-hidden">
            <span class="max-w-[300px] md:max-w-[270px]  w-full md:w-auto overflow-hidden text-ellipsis flex mr-auto md:mr-2">
              {{url.originalUrl}}
            </span>
            <span class="mr-auto md:ml-auto   max-w-[245px]  min-w-[240px]  md:mr-5 md:max-w-full overflow-hidden text-ellipsis text-blue-700 font-semibold underline">
              <a class="w-full" [attr.href]="'https://paroot.somee.com/' + url.shortUrl" target="_blank">https://paroot.somee.com/{{url.shortUrl}}</a>

            </span>
            <div class="max-w-[96px] flex flex-row">
              <span (click)="go()" class="aspect-square w-[32px] fill-gray-500 cursor-pointer hover:bg-green-700 hover:bg-opacity-15 hover:fill-green-700 p-1">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 48 48" class="injected-svg Icon--sm v-middle" data-src="https://dashboard-cdn.rebrandly.com/styleguide-assets/icons/ic-qrcode.svg" xmlns:xlink="http://www.w3.org/1999/xlink" ><g><g><path d="M32 41v-2h3v5H23v-3h9zM4 24v-3h3v3H4zm20 0v-3h3v3h-3zM21 7V4h6v3h-6zm0 6v-3h6v3h-6zm0 6v-3h6v3h-6zm0-9V7h3v3h-3zm3 6v-3h3v3h-3zm9 11v-3h3v3h-3zm-3-3v-3h6v3h-6zm-9 6v-3h3v3h-3zm6 0v-3h3v3h-3zm-3 3v-3h3v3h-3zm-3 3v-3h3v3h-3zm0 3v-3h6v3h-6zm6-3v-3h3v3h-3zm11 8v-3h3v3h-3zm3-3v-3h3v3h-3zm0-5v-3h3v3h-3zm0-12v-3h3v3h-3zm-3 6v-3h3v3h-3zm-8 3v-3h11v3H30zm8-6v-3h6v3h-6zm-3 9v-3h3v3h-3zm0 3v-3h6v3h-6zM7 27v-3h3v3H7zm3-3v-3h6v3h-6zm3 3v-3h11v3H13zM7 7v8h8V7H7zm26 0v8h8V7h-8zM7 33v8h8v-8H7zM18 4v14H4V4h14zm26 0v14H30V4h14zM18 30v14H4V30h14zm-8-20h2v2h-2v-2zm26 0h2v2h-2v-2zM10 36h2v2h-2v-2z"></path></g></g></svg>
              </span>
              <span (click)="go()"class="aspect-square w-[32px] fill-gray-500 cursor-pointer hover:bg-green-700 hover:bg-opacity-15 hover:fill-green-700 p-1 ">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 48 48"  data-src="https://dashboard-cdn.rebrandly.com/styleguide-assets/icons/ic-stats.svg" ><g><g><path d="M23 40h2c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1h-2c-.55 0-1 .45-1 1v30c0 .55.45 1 1 1zm-10 0h2c.55 0 1-.45 1-1V25c0-.55-.45-1-1-1h-2c-.55 0-1 .45-1 1v14c0 .55.45 1 1 1zm19-23v22c0 .55.45 1 1 1h2c.55 0 1-.45 1-1V17c0-.55-.45-1-1-1h-2c-.55 0-1 .45-1 1z"></path></g></g></svg>
              </span>
              <span (click)="copyUrl(url)" class="aspect-square fill-gray-500 cursor-pointer hover:bg-green-700 hover:bg-opacity-15 hover:fill-green-700 p-1">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 48 48"  data-src="https://dashboard-cdn.rebrandly.com/styleguide-assets/icons/ic-copy.svg" ><g><g><path d="M28 8H16c-2.2 0-4 1.8-4 4v20h2c0-11.3 0-17.64 0-19 0-1 2-3 3-3 1.33 0 5 0 11 0V8zm4.8 4H19.2c-1.76 0-3.2 1.6-3.2 3.56v20.88C16 38.4 17.44 40 19.2 40h13.6c1.76 0 3.2-1.6 3.2-3.56V15.56C36 13.6 34.56 12 32.8 12z"></path></g></g></svg>
              </span>
            </div>
            <span (click)="deleteUrlFromLocalStorage(url)" class="fill-gray-500 aspect-square cursor-pointer w-[24px] h-[24px] hover:fill-red-500">
              <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 48 48" version="1.1" class="injected-svg Icon--xsmall v-middle" data-src="https://dashboard-cdn.rebrandly.com/styleguide-assets/icons/ic-cross.svg" >
                <defs></defs>
                <g id="icons/ic-cross" stroke="none" stroke-width="1">
                    <g id="Shape">
                        <polygon points="42 9.62571429 38.3742857 6 24 20.3742857 9.62571429 6 6 9.62571429 20.3742857 24 6 38.3742857 9.62571429 42 24 27.6257143 38.3742857 42 42 38.3742857 27.6257143 24"></polygon>
                    </g>
                </g>
            </svg>
            </span>
          </div>

        </div>
      </div>

      <div *ngIf="chooseButton() === 'Qr Code'">
        b
      </div>
    </div>

  </div>

</div>
